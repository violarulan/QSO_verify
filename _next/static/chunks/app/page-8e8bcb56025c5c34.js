(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8534:function(e,n,i){Promise.resolve().then(i.bind(i,2141))},2141:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return S}});var t=i(8646),l=i(7437),s=i(2265),a=i(7041),r=i(5903),o=i(3770);let c="html5qr-code-full-region",d=e=>{let n={};return e.fps&&(n.fps=e.fps),e.qrbox&&(n.qrbox=e.qrbox),e.aspectRatio&&(n.aspectRatio=e.aspectRatio),void 0!==e.disableFlip&&(n.disableFlip=e.disableFlip),n};var h=e=>((0,s.useEffect)(()=>{let n=d(e),i=!0===e.verbose;if(!e.qrCodeSuccessCallback)throw"qrCodeSuccessCallback is required callback.";let t=new r.wF(c,n,i);return t.render(e.qrCodeSuccessCallback,e.qrCodeErrorCallback),()=>{t.clear().catch(e=>{console.error("Failed to clear html5QrcodeScanner. ",e)})}},[]),(0,l.jsx)("div",{id:c})),u=i(7818);let x=e=>(0,l.jsx)(s.Fragment,{children:e.children});(0,u.default)(()=>Promise.resolve(x),{ssr:!1});var m=i(1069),f=i(9881),p=i(2316),g=i.n(p),j=i(6115),v=i(2910);function y(){let e=(0,t._)(["\n  padding: 5rem;\n  background: ",";\n  .window-title {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .close-icon {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    margin-left: -1px;\n    margin-top: -1px;\n    transform: rotateZ(45deg);\n    position: relative;\n    &:before,\n    &:after {\n      content: '';\n      position: absolute;\n      background: ",";\n    }\n    &:before {\n      height: 100%;\n      width: 3px;\n      left: 50%;\n      transform: translateX(-50%);\n    }\n    &:after {\n      height: 3px;\n      width: 100%;\n      left: 0px;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  }\n  .window {\n    width: 1000px;\n    min-height: 200px;\n  }\n  .window:nth-child(2) {\n    margin: 2rem;\n  }\n  .footer {\n    display: block;\n    margin: 0.25rem;\n    height: 31px;\n    line-height: 31px;\n    padding-left: 0.25rem;\n  }\n"]);return y=function(){return e},e}function b(){let e=(0,t._)(["\n  ","\n  @font-face {\n    font-family: 'ms_sans_serif';\n    src: url('","') format('woff2');\n    font-weight: 400;\n    font-style: normal\n  }\n  @font-face {\n    font-family: 'ms_sans_serif';\n    src: url('","') format('woff2');\n    font-weight: bold;\n    font-style: normal\n  }\n  body, #html5-qrcode-button-camera-permission {\n    font-family: 'ms_sans_serif';\n    // font-size: 10em\n    // overflow: hidden\n  }\n  .result, .stress {\n    font-weight: 800\n  }\n  .success {\n    color: green;\n  }\n  .failed {\n    color: red;\n  }\n"]);return b=function(){return e},e}let w=i(2572),C=a.ZP.div(y(),e=>{let{theme:n}=e;return n.desktopBackground},e=>{let{theme:n}=e;return n.materialText}),A=(0,a.vJ)(b(),m.mw,j.Z,v.Z);async function B(e){return crypto.subtle.digest("SHA-512",new TextEncoder("utf-8").encode(e)).then(e=>Array.prototype.map.call(new Uint8Array(e),e=>("00"+e.toString(16)).slice(-2)).join(""))}async function k(e,n){let i=await o.xh({armoredKey:"-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nmDMEZIcKiBYJKwYBBAHaRw8BAQdAnU+2Ei4M7Ir3a9UGKrNPmDFAj2QfodxWB64q\nc60kV8S0LEthcnVydSAoVWx0aW1hdGUpIDxrYXJ1cnVAYWVyb2RlZmVuc2UuY28u\ndWs+iJQEExYKADwWIQR5C6rxWmK8Vrx8iEuSZj6/FPfrCQUCZIcKiAIbAQULCQgH\nAgMiAgEGFQoJCAsCBBYCAwECHgcCF4AACgkQkmY+vxT36wkcgQEAmAijbbp1y2K+\nkZj2cS4B3ffJC8JBYBLF87ECsUP30fwA/2XKxDyGjO4PY8y4GRFNSmuVpWmSHfkw\nxP8PkOUu9OIJuDgEZIcM+RIKKwYBBAGXVQEFAQEHQGGQeu4x0FDq2icl+R6huWK5\nogo7VO1BpVFCuPwly9olAwEIB4h+BBgWCgAmFiEEeQuq8VpivFa8fIhLkmY+vxT3\n6wkFAmSHDPkCGwwFCQPCZwAACgkQkmY+vxT36wmPhQD9Ed8Dmza5Q0MTHje8bwwc\nJ04umlAM/B0Q9H3jr2BTClEA/As4vqVaQyXMTtNlMdBbMGOMAmIS8dbVv6NLb3XU\nqLoDuDMEZIcNCRYJKwYBBAHaRw8BAQdAO+m+9+fN8jyz5nQwDHlixTBH2ZlAiT5/\nF4acWamWGKGIfgQYFgoAJhYhBHkLqvFaYrxWvHyIS5JmPr8U9+sJBQJkhw0JAhsg\nBQkDwmcAAAoJEJJmPr8U9+sJM/8BAPpUvwhjnAnddjLt9dUoB4OvV/FqDNOAb14u\n5WdpJFvOAP0SxwBxUpcoIsCrrwiB4JFVXXdU+GQCIMw6Yo53x9qcBLgzBGSHDRQW\nCSsGAQQB2kcPAQEHQKWeCK0S5FARIAOJdXBKNCyi87PRIcNxWCxnXC1FSmtuiPUE\nGBYKACYWIQR5C6rxWmK8Vrx8iEuSZj6/FPfrCQUCZIcNFAIbAgUJA8JnAACBCRCS\nZj6/FPfrCXYgBBkWCgAdFiEE2xHfWeqCjbqanfBjysp8o2A8DjwFAmSHDRQACgkQ\nysp8o2A8DjweeAD+MDwWrOiGtXjoEEehg/PJcCbOPkVDXp5bDStYGHxQaaAA/id4\nZ5ELEHpifZvrULU0U6nF2AzKZNSn8tlTnzktjjwELG8BALDvxSupcu4LGaEpvGKZ\nQ4kQOzSaiYRDm/Nk5vwy0ZcVAP9aNJBWI/T+KuKLTB7NnK+6YzuBsTv1ZDE4U9Mq\n1KosBA==\n=2gdF\n\n-----END PGP PUBLIC KEY BLOCK-----"}),t=document.querySelector("#callsign").value,l=document.querySelector("#date").value,s=document.querySelector("#time").value,a=document.querySelector("#frequency").value,r=document.querySelector("#mode").value,c=document.querySelector("#rst").value,d="".concat(t,"|").concat(l,"|").concat(s,"|").concat(a,"|").concat(r,"|").concat(c).toUpperCase(),h=await B(d);console.log(d),console.log(h),console.log("Code matched = ".concat(e," "),n);let u=w.decode(e),x=await o.Gi({binarySignature:u}),m=await o.tn({text:h}),{verified:f,keyID:p}=(await o.T({message:m,signature:x,verificationKeys:i})).signatures[0],g=document.querySelector(".result");try{await f,console.log("Signed by key id "+p.toHex()),g.innerHTML="Verified: Sub - key ID: ".concat(p.toHex()),g.classList.remove("failed"),g.classList.add("success")}catch(e){throw g.innerHTML="Failed",g.classList.remove("success"),g.classList.add("failed"),Error("Signature could not be verified: "+e.message)}}function S(){let[e,n]=(0,s.useState)(new Date),[i,t]=(0,s.useState)({activeTab:0,callsign:""}),[r,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{var e=setInterval(()=>n(new Date),1e3);return function(){clearInterval(e)}});let c=(e,n)=>{t({...i,[n.target.id]:e}),console.log("now state2:"),console.log(i)},{activeTab:d}=i;return(0,l.jsx)("div",{children:(0,l.jsxs)("nossr",{children:[(0,l.jsx)(A,{}),(0,l.jsx)(a.f6,{theme:g(),children:(0,l.jsx)(C,{style:{position:"absolute",width:"1200px"},children:(0,l.jsxs)(m.Rz,{resizable:!0,className:"window",children:[(0,l.jsxs)(m.ib,{className:"window-title",children:[(0,l.jsx)("span",{children:"QSO_verify_by_BG2ELG.exe"}),(0,l.jsx)(m.zx,{onClick:()=>{window.close()},children:(0,l.jsx)("span",{className:"close-icon"})})]}),(0,l.jsxs)(m.o8,{children:[(0,l.jsx)(m.zx,{variant:"menu",size:"sm",disabled:!0,children:"File"}),(0,l.jsx)(m.zx,{variant:"menu",size:"sm",disabled:!0,children:"Save"}),(0,l.jsxs)("div",{style:{position:"relative",display:"inline-block",alignSelf:"right"},children:[(0,l.jsx)(m.zx,{variant:"thin",onClick:()=>o(!r),size:"sm",active:r,children:"Share"}),r&&(0,l.jsxs)(m.qy,{style:{position:"absolute",right:"0",top:"100%",zIndex:"9999"},onClick:()=>o(!1),children:[(0,l.jsx)(m.MF,{size:"sm",onClick:()=>{navigator.clipboard.writeText(window.location.href)},children:"Copy link"}),(0,l.jsx)(m.Z0,{}),(0,l.jsx)(m.MF,{size:"sm",children:"Bilibili"}),(0,l.jsx)(m.MF,{size:"sm",children:"Twitter"}),(0,l.jsx)(m.Z0,{}),(0,l.jsx)(m.MF,{size:"sm",disabled:!0,children:"HamCQ"})]})]})]}),(0,l.jsxs)(m.GH,{children:[(0,l.jsxs)(m.mQ,{value:d,onChange:(e,n)=>{console.log("--------->page changed"),console.log({value:e,event:n}),t({...i,activeTab:e}),console.log("now state1:"),console.log(i)},children:[(0,l.jsx)(m.OK,{value:0,children:"Info"}),(0,l.jsx)(m.OK,{value:1,children:"Verify"}),(0,l.jsx)(m.OK,{value:2,children:"Contact"})]}),(0,l.jsxs)(m.Dg,{style:{},children:[0===d&&(0,l.jsx)("div",{style:{height:"400px"},children:(0,l.jsxs)("p",{children:["Hello, this is BG2ELG.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"You might have noticed that there's a QR code on the QSL card I sent to you.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"This is a ",(0,l.jsx)("a",{href:"https://en.wikipedia.org/wiki/Pretty_Good_Privacy",target:"_blank",children:"PGP"})," Digital Signature. Public key: ",(0,l.jsx)("a",{href:"https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x790baaf15a62bc56bc7c884b92663ebf14f7eb09",target:"_blank",children:"0x790baaf15a62bc56bc7c884b92663ebf14f7eb09"}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"To verify, click the 'Verify' Tab above.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"73"]})}),1===d&&(0,l.jsx)("div",{style:{height:"400px"},children:(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{style:{padding:"0.5em",marginBottom:"1.5em"},children:["Please type the ",(0,l.jsx)("span",{class:"stress",children:"EXACT SAME"})," information printed on the card and scan the QR code. "]}),(0,l.jsxs)("div",{style:{display:"flex",marginBottom:"0.7em"},children:[(0,l.jsx)("p",{style:{width:"120px",padding:"0.5em"},children:"Your Callsign:"}),(0,l.jsx)(m.oi,{id:"callsign",value:i.value,placeholder:"A1ABC",onChange:e=>{c(e.target.value,e)},fullWidth:!0})]}),(0,l.jsxs)("div",{style:{display:"flex",marginBottom:"0.7em"},children:[(0,l.jsx)("p",{style:{width:"120px",padding:"0.5em"},children:"Date:"}),(0,l.jsx)(m.oi,{id:"date",value:i.value,placeholder:"20240605",onChange:e=>{c(e.target.value,e)},fullWidth:!0})]}),(0,l.jsxs)("div",{style:{display:"flex",marginBottom:"0.7em"},children:[(0,l.jsx)("p",{style:{width:"120px",padding:"0.5em"},children:"Time:"}),(0,l.jsx)(m.oi,{id:"time",value:i.value,placeholder:"1323",onChange:e=>{c(e.target.value,e)},fullWidth:!0})]}),(0,l.jsxs)("div",{style:{display:"flex",marginBottom:"0.7em"},children:[(0,l.jsx)("p",{style:{width:"120px",padding:"0.5em"},children:"Frequency:"}),(0,l.jsx)(m.oi,{id:"frequency",value:i.value,placeholder:"14.074000",onChange:e=>{c(e.target.value,e)},fullWidth:!0})]}),(0,l.jsxs)("div",{style:{display:"flex",marginBottom:"0.7em"},children:[(0,l.jsx)("p",{style:{width:"120px",padding:"0.5em"},children:"Mode:"}),(0,l.jsx)(m.oi,{id:"mode",value:i.value,placeholder:"USB",onChange:e=>{c(e.target.value,e)},fullWidth:!0})]}),(0,l.jsxs)("div",{style:{display:"flex",marginBottom:"0.7em"},children:[(0,l.jsx)("p",{style:{width:"120px",padding:"0.5em"},children:"RST:"}),(0,l.jsx)(m.oi,{id:"rst",value:i.value,placeholder:"59",onChange:e=>{c(e.target.value,e)},fullWidth:!0})]})]}),(0,l.jsx)(m.Z0,{orientation:"vertical",size:"370px",style:{marginLeft:"2em",marginRight:"2em"}}),(0,l.jsxs)("div",{style:{margin:"0 auto"},children:[(0,l.jsx)("div",{style:{marginTop:"1em",height:"280px",overflowY:"auto"},children:(0,l.jsx)(h,{fps:30,qrbox:200,disableFlip:!1,qrCodeSuccessCallback:k})}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsxs)("p",{children:["Scan Result: ",(0,l.jsx)("span",{class:"result",children:"(empty)"})]})]})]})}),2===d&&(0,l.jsxs)("div",{style:{height:"400px"},children:[(0,l.jsx)("p",{children:"Email: karuru@aerodefense.co.uk"}),(0,l.jsx)("p",{children:"WhatsApp: +853 64314241"}),(0,l.jsx)("p",{children:"Telegram: @magicaleffector"})]})]})]}),(0,l.jsxs)(m.RQ,{variant:"well",className:"footer",children:["Local time: ",e.toLocaleDateString("zh-Hans-CN")," ",e.toLocaleTimeString("zh-Hans-CN")]})]})})}),(0,l.jsx)(f.GoogleAnalytics,{gaId:"G-02617REHJC"})]})})}}},function(e){e.O(0,[182,52,113,971,23,744],function(){return e(e.s=8534)}),_N_E=e.O()}]);